{"version":3,"sources":["components/Note.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Note","_ref","person","handlePersonRemove","react_default","a","createElement","name","number","onClick","Filter","filter","handleFilterChange","value","onChange","Notification","message","className","baseUrl","persons","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","concat","remove","delete","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleVisible","setState","showAll","state","addPhoneNumber","event","preventDefault","phoneNumberObject","newName","newPhoneNumber","date","Date","new","important","Math","random","nameAlreadyInUse","obj","phoneNumberAlreadyInUse","console","log","proceedWithPhoneNumberReplace","length","window","confirm","personToBeChangedId","find","p","changedPerson","objectSpread","personService","untouchedPersons","n","setTimeout","catch","error","alert","target","handleNameChange","handlePhoneNumberChange","removePhoneNumber","whatever","_this2","_this3","phoneNumbersToShow","toLowerCase","indexOf","components_Notification","components_Filter","onSubmit","type","map","components_Note","key","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.db377ce8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Note = ({ person, handlePersonRemove }) => {\n  return (\n    <li>{person.name} {person.number} <button onClick={handlePersonRemove}>poista</button></li>\n  )\n}\n\nexport default Note","\nimport React from 'react'\n\n\nconst Filter = ({ filter, handleFilterChange }) => {\n\n  return (\n    <div>\n                    rajaa näytettävä: \n                    <input \n                        value={filter} \n                        onChange={handleFilterChange}\n                    />\n                  </div>\n\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\n\nexport default { getAll, create, update, remove }","import React from 'react'\n//import axios from 'axios'\nimport Note from './components/Note'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newPhoneNumber: '',\n      showAll: true,\n      filter: '',\n      message: null\n    }\n  }\n\ncomponentDidMount() {\n  console.log('did mount')\n\n  personService\n  .getAll()\n  .then(persons => {\n    this.setState({persons: persons})\n  })\n}\n\n  toggleVisible = () => {\n    this.setState({ showAll: !this.state.showAll })\n  }\n\n  addPhoneNumber = (event) => {\n    event.preventDefault()\n    const phoneNumberObject = {\n      name: this.state.newName,\n      number: this.state.newPhoneNumber,\n      date: new Date().new,\n      important: Math.random() > 0.5\n      //our dummy server seems to be able to create id automatically...\n      //id: this.state.persons.length + 1\n    }\n\n    /*\n    let nameAlreadyInUse = this.state.persons.filter(obj => {\n        return (obj.name === this.state.newName || obj.number === this.state.newPhoneNumber)\n      })\n     */\n\n    let nameAlreadyInUse = this.state.persons.filter(obj => {\n      return (obj.name === this.state.newName)\n    })\n\n    let phoneNumberAlreadyInUse = this.state.persons.filter(obj => {\n      return (obj.number === this.state.newPhoneNumber)\n    }) \n\n      console.log(nameAlreadyInUse);\n\n    let proceedWithPhoneNumberReplace = false\n    if (!(nameAlreadyInUse.length === 0)) {\n      //alert(this.state.newName + 'already in use. Shall we replace the old phone number?');\n      proceedWithPhoneNumberReplace = window.confirm(this.state.newName + \"already in use. Shall we replace the old phone number?\");\n    }\n\n    if (proceedWithPhoneNumberReplace) {\n      const personToBeChangedId = nameAlreadyInUse[0].id\n\n      const person = this.state.persons.find(p => p.id === personToBeChangedId)\n      const changedPerson = { ...person, number: this.state.newPhoneNumber }\n\n      personService\n        .update(nameAlreadyInUse[0].id, phoneNumberObject)\n        .then(persons => {\n          console.log('update was a success, next update state')      \n          const untouchedPersons = this.state.persons.filter(n => n.id !== personToBeChangedId)\n          this.setState({\n            persons: untouchedPersons.concat(changedPerson),\n            message: 'phone number update succesful'\n          })\n          setTimeout(() => {\n            this.setState({message: null})\n          }, 5000)\n          /*\n          this.setState({\n            persons: this.state.persons.concat(persons),\n            newName: '',\n            newPhoneNumber: ''\n          })\n          */\n        })\n        .catch(error => {\n          console.log('PERSON TO BE UPDATED WAS NOT FOUND')\n          alert('Person you tried to update has already been removed!!!!!!')\n        })\n\n    }\n\n    else if (nameAlreadyInUse.length === 0 &&\n        phoneNumberAlreadyInUse.length === 0) { \n\n        personService\n        .create(phoneNumberObject)\n        .then(persons => {\n          console.log('post was a success, next update state')      \n          this.setState({\n            persons: this.state.persons.concat(persons),\n            newName: '',\n            newPhoneNumber: '',\n            message: 'new person added succesfully'\n          })\n\n          setTimeout(() => {\n            this.setState({message: null})\n          }, 5000)\n\n          \n        })\n    }\n    else {\n        alert('Name or phone number is already in use!');\n    }\n  }\n\n  handleFilterChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ filter: event.target.value })\n  }\n\n\n  handleNameChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newName: event.target.value })\n  }\n\n\n  handlePhoneNumberChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newPhoneNumber: event.target.value })\n  }\n\nremovePhoneNumber = (id) => {\n  return () => {\n    personService\n    .remove(id)      \n      .then(whatever => {\n        const persons = this.state.persons.filter(n => n.id !== id)\n        this.setState({\n          persons: persons,\n          newName: '',\n          newPhoneNumber: '',\n          message: 'person removed succesfully.'\n        })\n\n\n        setTimeout(() => {\n          this.setState({message: null})\n        }, 5000)\n\n      })  }\n}\n\n\n  render() {\n\n    console.log('filter at app render:',this.state.filter.length);\n    \n    \n    const phoneNumbersToShow =\n      this.state.filter.length <= 0 ?\n        this.state.persons :\n        this.state.persons.filter(person => ((person.name.toLowerCase().indexOf(this.state.filter.toLowerCase()) > -1) ||\n         ((person.number.toLowerCase().indexOf(this.state.filter.toLowerCase()) > -1))))\n\n    return (\n              <div>\n                <h2>Puhelinluettelo tete</h2>\n                <Notification message={this.state.message}/>\n                <div>\n\n                    <Filter filter={this.state.filter} handleFilterChange={this.handleFilterChange} />\n\n                  </div>\n                <h2>Lisää uusi</h2>\n                <form onSubmit={this.addPhoneNumber}>\n                  <div>\n                    nimi: \n                    <input \n                        value={this.state.newName} \n                        onChange={this.handleNameChange}\n                    />\n\n                    puhelinnumero: \n                    <input \n                        value={this.state.newPhoneNumber} \n                        onChange={this.handlePhoneNumberChange}\n                    />\n\n                  </div>\n                  <div>\n                    <button type=\"submit\">lisää</button>\n                  </div>\n                </form>\n                <h2>Numerot</h2>\n                <ul>\n                    {phoneNumbersToShow.map(person => <Note key={person.id} person={person} handlePersonRemove={this.removePhoneNumber(person.id)} />)}\n                </ul>\n              </div>\n            )\n  }\n}\n\nexport default App","\nimport ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\n/*\nthis.state = {\n  persons: [\n    { name: 'Arto Hellas' }\n  ],\n  newName: ''\n}\n*/\n\n/*\nconst persons = [\n  {\n    id: 1,\n    name: 'Arto Hellas',\n    phoneNumber: '+358-44556677',\n    date: '2017-12-10T17:30:31.098Z',\n    important: true\n  }\n]\n*/\n\n/*\nconst notes = [\n  {\n    id: 1,\n    content: 'Arto Hellas',\n    date: '2017-12-10T17:30:31.098Z',\n    important: true\n  },\n  {\n    id: 2,\n    content: 'Selain pystyy suorittamaan vain javascriptiä',\n    date: '2017-12-10T18:39:34.091Z',\n    important: false\n  },\n  {\n    id: 3,\n    content: 'HTTP-protokollan tärkeimmät metodit ovat GET ja POST',\n    date: '2017-12-10T19:20:14.298Z',\n    important: true\n  }\n]\n*/\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}